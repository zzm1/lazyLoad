<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <!-- <meta name="viewport" content="width=device-width,initial-scale=1,minimun-scale=1,maximum-scale=1,user-scalable=0"> -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=no" />
    <style>
        *{margin: 0;padding: 0;}
        ul{display: flex;flex-wrap: wrap;}
        li{width: 50%; list-style: none; flex:50%; margin-bottom: 50px;}
        img{width: 100%; height: 200px;}
    </style>
</head>
<body>
    <ul>  
        <li><img class="lazyload" src="image/logo.png" alt="" data-src="image/1 (1).jpg"></li>
        <li><img class="lazyload" src="image/logo.png" alt="" data-src="image/1 (2).jpg"></li>
        <li><img class="lazyload" src="image/logo.png" alt="" data-src="image/1 (3).jpg"></li>
        <li><img class="lazyload" src="image/logo.png" alt="" data-src="image/1 (4).jpg"></li>
        <li><img class="lazyload" src="image/logo.png" alt="" data-src="image/1 (5).jpg"></li>
        <li><img class="lazyload" src="image/logo.png" alt="" data-src="image/1 (6).jpg"></li>
        <li><img class="lazyload" src="image/logo.png" alt="" data-src="image/1 (7).jpg"></li>
        <li><img class="lazyload" src="image/logo.png" alt="" data-src="image/1 (8).jpg"></li>
        <li><img class="lazyload" src="image/logo.png" alt="" data-src="image/1 (9).jpg"></li>
        <li><img class="lazyload" src="image/logo.png" alt="" data-src="image/1 (10).jpg"></li>
        <li><img class="lazyload" src="image/logo.png" alt="" data-src="image/1 (11).jpg"></li>
        <li><img class="lazyload" src="image/logo.png" alt="" data-src="image/1 (12).jpg"></li>
        <li><img class="lazyload" src="image/logo.png" alt="" data-src="image/1 (13).jpg"></li>
        <li><img class="lazyload" src="image/logo.png" alt="" data-src="image/1 (14).jpg"></li>
        <li><img class="lazyload" src="image/logo.png" alt="" data-src="image/1 (15).jpg"></li>
        <li><img class="lazyload" src="image/logo.png" alt="" data-src="image/1 (16).jpg"></li>
    </ul>
    <script>

    (function () {
        // body...
        let timer,len,imgList;
        imgList = Array.prototype.slice.call(document.querySelectorAll('img.lazyload'));
        len = imgList.length;
        function _isShow(el) {
            if(!el) return;
            let scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
            let screenHeight = document.documentElement.clientHeight;
            let coords = el.getBoundingClientRect();
            if(coords.top>0&&coords.top<screenHeight||coords.bottom>0&&coords.bottom<screenHeight){
                return true;
            }else{
                return false;
            }
            // if(coords.top>scrollTop&&coords.top<scrollTop+screenHeight||coords.bottom>scrollTop&&coords.bottom<scrollTop+screenHeight){
            //     return true;
            // }
        }
        function _loadImg() {
            // body...
            timer && clearTimeout(timer);
            if(!len) return;
            timer = setTimeout(()=>{
                imgList = imgList.filter((item)=>{return item!=null});
                len = imgList.length;
                console.log(imgList)
                for(let i=0;i<len;i++){
                    if(_isShow(imgList[i])){
                        console.log(i);
                        imgList[i].src = imgList[i].getAttribute('data-src');
                        imgList[i] = null;
                        // imgList.splice(i,1);
                    }
                }
            },100)
        }
        _loadImg();
        window.addEventListener('scroll',_loadImg);
    })()
    </script>
</body>
</html>